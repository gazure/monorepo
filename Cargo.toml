[workspace]
members = [
    "christmas",
    "gsazure",
    "lib/*",
    "baseball",
    "twotris",
    "arenabuddy/arenabuddy_cli",
    "arenabuddy/arenabuddy_core",
    "arenabuddy/arenabuddy_data",
    "arenabuddy/arenabuddy",
]
resolver = "3"

[workspace.package]
authors = ["Grant Azure <azure.grant@gmail.com>"]
description = "Repo with all my rust apps as I build them"
categories = []
version = "0.1.0"
repository = "https://github.com/gazure/monorepo"
edition = "2024"
rust-version = "1.89"
keywords = []
license = "MIT"

[workspace.dependencies]
anyhow = "1.0.98"
axum = "0.8.4"
bevy = { version = "0.16.1", features = ["file_watcher"] }
bevy-inspector-egui = "0.31.0"
chrono = { version = "0.4.41", features = ["serde", "wasmbind"] }
clap = { version = "4.5.43", features = ["derive"] }
console_error_panic_hook = "0.1"
console-subscriber = "0.4.1"
csv = { version = "1.3.1" }
ctrlc = "3.4.7"
derive_builder = "0.20.2"
dioxus = { version = "0.7.0-alpha.3", features = [
    "router",
    "desktop",
    "fullstack",
] }
fastrand = "2.3.0"
indoc = "2.0.6"
itertools = "0.14.0"
notify = "8.2.0"
open = "5.3"
postgresql_embedded = { version = "0.19.0", features = ["bundled"] }
prost = "0.13"
prost-build = { version = "0.13", features = ["format"] }
prost-types = "0.13"
rand = "0.9.2"
rand_chacha = "0.9.0"
regex = "1.11.1"
rfd = "0.14"
serde = { version = "1.0.219", features = ["derive"] }
serde_json = "1.0.142"
serde_yaml = "0.9"
sqlx = { git = "https://github.com/launchbadge/sqlx", branch = "release/0.9.0-alpha.1", features = [
    "chrono",
    "uuid",
    "postgres",
    "runtime-tokio",
    "sqlx-toml",
] }
thiserror = "2.0.12"
tokio = { version = "1.47.1", features = ["full", "tracing"] }
tracing = "0.1.41"
tracing-subscriber = { version = "0.3", features = ["json", "env-filter"] }
tracing-appender = "0.2.3"
reqwest = { version = "0.12.22", features = ["json", "stream"] }
rustyline = "16.0.0"
urlencoding = "2.1.3"
uuid = { version = "1.18.0", features = ["v4", "js"] }

# Define common profiles for all workspace members
[profile.dev]
opt-level = 0

[profile.release]
opt-level = 3
lto = true

# Enable high optimizations for Bevy
[profile.dev.package.bevy]
opt-level = 3

[profile.wasm-dev]
inherits = "dev"
opt-level = 1

[profile.server-dev]
inherits = "dev"

[profile.android-dev]
inherits = "dev"

[workspace.lints.rust]
unsafe_code = "forbid"

[workspace.lints.clippy]
pedantic = { level = "deny", priority = -1 }
# unwrap_used = {level = "deny", priority = -1}
missing_errors_doc = "allow"
module_name_repetitions = "allow"
must_use_candidate = "allow"
